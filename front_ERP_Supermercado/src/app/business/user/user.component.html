<div class="p-6">
    <!-- Título y Botón -->
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-semibold">Listado de Usuarios</h2>
        <button (click)="mostrarFormulario = !mostrarFormulario"
            class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow transition">
            {{ mostrarFormulario ? 'Cancelar' : 'Crear nuevo personal' }}
        </button>
    </div>

    <!-- Formulario inline -->
    <div *ngIf="mostrarFormulario" class="bg-white shadow-md rounded-lg p-6 mb-6">
        <h3 class="text-xl font-semibold mb-4">Registrar Nuevo Personal</h3>

        <form (ngSubmit)="crearPersonal()" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block text-sm mb-1">Nombre</label>
                <input type="text" class="w-full border px-3 py-2 rounded" [(ngModel)]="nuevoPersonal.nombre"
                    name="nombre" required />
            </div>

            <div>
                <label class="block text-sm mb-1">Apellido</label>
                <input type="text" class="w-full border px-3 py-2 rounded" [(ngModel)]="nuevoPersonal.apellido"
                    name="apellido" required />
            </div>

            <div>
                <label class="block text-sm mb-1">Carnet</label>
                <input type="text" class="w-full border px-3 py-2 rounded" [(ngModel)]="nuevoPersonal.carnet"
                    name="carnet" required />
            </div>

            <div>
                <label class="block text-sm mb-1">Fecha de creación</label>
                <input type="date" class="w-full border px-3 py-2 rounded" [(ngModel)]="nuevoPersonal.fecha_creacion"
                    name="fecha_creacion" required />
            </div>

            <div>
                <label class="block text-sm mb-1">Username</label>
                <input type="text" class="w-full border px-3 py-2 rounded" [(ngModel)]="newUser.username"
                    name="username" required />
            </div>

            <div>
                <label class="block text-sm mb-1">Email</label>
                <input type="email" class="w-full border px-3 py-2 rounded" [(ngModel)]="newUser.email"
                    name="email" required />
            </div>

            <div>
                <label class="block text-sm mb-1">Password</label>
                <input type="password" class="w-full border px-3 py-2 rounded" [(ngModel)]="newUser.password"
                    name="password" required />
            </div>

            <div>
                <label class="block text-sm mb-1">Rol</label>
                <select [(ngModel)]="nuevoPersonal.id_rol" name="rol" class="w-full border px-3 py-2 rounded" required>
                    <option value="">Seleccione un rol</option>
                    <option *ngFor="let rol of listaRoles" [value]="rol.id_rol">{{ rol.nombre }}</option>
                </select>
            </div>

            <div>
                <label class="block text-sm mb-1">Turno</label>
                <select [(ngModel)]="nuevoPersonal.id_turno" name="turno" class="w-full border px-3 py-2 rounded" required>
                    <option value="">Seleccione un turno</option>
                    <option *ngFor="let turno of listarTurnos" [value]="turno.id_turno">{{ turno.descripcion }}</option>
                </select>
            </div>

            <div class="md:col-span-2 text-right mt-4">
                <button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg">
                    Guardar
                </button>
            </div>
        </form>
    </div>

    <!-- Tabla -->
    <div class="overflow-x-auto">
        <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
            <thead class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
                <tr>
                    <th class="py-3 px-6 text-left">Nombre</th>
                    <th class="py-3 px-6 text-left">Apellido</th>
                    <th class="py-3 px-6 text-left">Carnet</th>
                    <th class="py-3 px-6 text-left">Fecha de Creación</th>
                    <th class="py-3 px-6 text-left">Rol</th>
                    <th class="py-3 px-6 text-left">Turno</th>
                </tr>
            </thead>
            <tbody class="text-gray-700 text-sm">
                <tr *ngFor="let persona of listaPersonal" class="border-b border-gray-200 hover:bg-gray-100">
                    <td class="py-3 px-6">{{ persona.nombre }}</td>
                    <td class="py-3 px-6">{{ persona.apellido }}</td>
                    <td class="py-3 px-6">{{ persona.carnet }}</td>
                    <td class="py-3 px-6">{{ persona.fecha_creacion }}</td>
                    <td class="py-3 px-6">{{ persona.id_rol }}</td>
                    <td class="py-3 px-6">{{ persona.id_turno }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
